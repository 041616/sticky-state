/*!
 * sticky-state 2.1.5 - StickyState is a high performant module making native position:sticky statefull and polyfill the missing sticky browser feature
 * Copyright (c) 2016 SÃ¶nke Kluth <soenke.kluth@gmail.com> (http://soenkekluth.com/) - https://github.com/soenkekluth/sticky-state#readme
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.StickyState=e():t.StickyState=e()}(this,function(){return function(t){function e(s){if(i[s])return i[s].exports;var r=i[s]={exports:{},id:s,loaded:!1};return t[s].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var i=t.getBoundingClientRect(),s=i.top+S["default"].windowScrollY,r=e||i.height;return{top:s,bottom:s+r,height:r,width:i.width,left:i.left,right:i.right}}function a(t,e){var i=(0,f["default"])({},t);return i.top-=e.top,i.left-=e.left,i.right=i.left+t.width,i.bottom=i.top+t.height,i}function c(t){var e={},i=window.getComputedStyle(t,null);for(var s in O.style){var r=parseInt(i.getPropertyValue(s));r=isNaN(r)?null:r,e[s]=r}return e}function h(t){var e=t.previousElementSibling;return e&&"script"===e.tagName.toLocaleLowerCase()&&(e=h(e)),e}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),d=i(4),f=s(d),p=i(3),g=s(p),y=i(2),m=s(y),w=i(1),v=s(w),_=i(5),S=s(_),b={disabled:!1,className:"sticky",stateClassName:"is-sticky",fixedClass:"sticky-fixed",wrapperClass:"sticky-wrap",absoluteClass:"is-absolute",scrollClass:{down:null,up:null,none:null,persist:!1}},O={sticky:!1,absolute:!1,fixedOffset:"",offsetHeight:0,bounds:{top:null,left:null,right:null,bottom:null,height:null,width:null},restrict:{top:null,left:null,right:null,bottom:null,height:null,width:null},initialStyle:null,style:{top:null,bottom:null,left:null,right:null,"margin-top":0,"margin-bottom":0,"margin-left":0,"margin-right":0},disabled:!1},k=function(t){function e(t,i){r(this,e);var s;t instanceof window.NodeList&&(s=[].slice.call(t,1),t=t[0]);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(o.el=t,i&&i.scrollClass&&(i.scrollClass=(0,f["default"])({},b.scrollClass,i.scrollClass)),o.options=(0,f["default"])({},b,i),o.setState(O,!0),o.scrollTarget=S["default"].getScrollParent(o.el),o.hasOwnScrollTarget=o.scrollTarget!==window,o.hasOwnScrollTarget&&(o.updateFixedOffset=(0,v["default"])(o,o.updateFixedOffset)),o.firstRender=!0,o.resizeHandler=null,o.scroll=null,o.wrapper=null,o.eventObject={target:o.el,currentTarget:o},o.render=(0,v["default"])(o,o.render),o.addSrollHandler(),o.addResizeHandler(),o.render(),s&&s.length){var l,a=e.apply(s,i);return a.push(o),l=a,n(o,l)}return o}return o(e,t),u(e,[{key:"setState",value:function(t,e){this.lastState=this.state||t,this.state=(0,f["default"])({},this.state,t),e!==!0&&(this.render(),this.trigger(this.state.sticky?"sticky:on":"sticky:off",this.eventObject))}},{key:"getBoundingClientRect",value:function(){return this.el.getBoundingClientRect()}},{key:"getBounds",value:function(t){var e=this.getBoundingClientRect(),i=S["default"].documentHeight;if(t=t===!0,t!==!0&&null!==this.state.bounds.height&&this.state.offsetHeight===i&&e.height===this.state.bounds.height)return{offsetHeight:i,style:this.state.style,bounds:this.state.bounds,restrict:this.state.restrict};var s=this.state.initialStyle;s||(s=c(this.el));var r,n,o=s,u=this.wrapper||this.el,d=0;if(E.sticky){var f=h(u);d=0,f?(d=parseInt(window.getComputedStyle(f)["margin-bottom"]),d=d||0,r=l(f),this.hasOwnScrollTarget&&(r=a(r,l(this.scrollTarget)),d+=this.scroll.y),r.top=r.bottom+d):(f=u.parentNode,d=parseInt(window.getComputedStyle(f)["padding-top"]),d=d||0,r=l(f),this.hasOwnScrollTarget&&(r=a(r,l(this.scrollTarget)),d+=this.scroll.scrollY),r.top=r.top+d),this.hasOwnScrollTarget&&(n=l(this.scrollTarget),n.top=0,n.height=this.scroll.scrollHeight||n.height,n.bottom=n.height),r.height=u.clientHeight,r.width=u.clientWidth,r.bottom=r.top+r.height}else if(r=l(u,e.height),this.hasOwnScrollTarget){var p=l(this.scrollTarget);d=this.scroll.y,r=a(r,p),n=p,n.top=0,n.height=this.scroll.scrollHeight||n.height,n.bottom=n.height}return n=n||l(u.parentNode),{offsetHeight:i,style:o,bounds:r,initialStyle:s,restrict:n}}},{key:"updateBounds",value:function(t,e){t=t===!0,e=e===!0,this.setState(this.getBounds(e),t)}},{key:"updateFixedOffset",value:function(){this.lastState.fixedOffset=this.state.fixedOffset,this.state.sticky?this.state.fixedOffset=this.scrollTarget.getBoundingClientRect().top+"px":this.state.fixedOffset="",this.lastState.fixedOffset!==this.state.fixedOffset&&this.render()}},{key:"addSrollHandler",value:function(){if(!this.scroll){var t=S["default"].hasScrollTarget(this.scrollTarget);this.scroll=S["default"].getInstance(this.scrollTarget),this.onScroll=(0,v["default"])(this,this.onScroll),this.onScrollDirection=(0,v["default"])(this,this.onScrollDirection),this.scroll.on("scroll:start",this.onScroll),this.scroll.on("scroll:progress",this.onScroll),this.scroll.on("scroll:stop",this.onScroll),this.scroll.on("scroll:up",this.onScrollDirection),this.scroll.on("scroll:down",this.onScrollDirection),this.options.scrollClass.persist||this.scroll.on("scroll:stop",this.onScrollDirection),t&&this.scroll.scrollY>0&&this.scroll.trigger("scroll:progress")}}},{key:"removeSrollHandler",value:function(){this.scroll&&(this.scroll.off("scroll:start",this.onScroll),this.scroll.off("scroll:progress",this.onScroll),this.scroll.off("scroll:stop",this.onScroll),this.scroll.off("scroll:up",this.onScrollDirection),this.scroll.off("scroll:down",this.onScrollDirection),this.scroll.off("scroll:stop",this.onScrollDirection),this.scroll.destroy(),this.scroll=null)}},{key:"addResizeHandler",value:function(){this.resizeHandler||(this.resizeHandler=(0,v["default"])(this,this.onResize),window.addEventListener("sticky:update",this.resizeHandler,!1),window.addEventListener("resize",this.resizeHandler,!1),window.addEventListener("orientationchange",this.resizeHandler,!1))}},{key:"removeResizeHandler",value:function(){this.resizeHandler&&(window.removeEventListener("sticky:update",this.resizeHandler),window.removeEventListener("resize",this.resizeHandler),window.removeEventListener("orientationchange",this.resizeHandler),this.resizeHandler=null)}},{key:"getScrollClassObj",value:function(t){t=t||{};var e=this.scroll.y<=0||this.scroll.y+this.scroll.clientHeight>=this.scroll.scrollHeight?0:this.scroll.directionY;return(this.options.scrollClass.up||this.options.scrollClass.down)&&(t[this.options.scrollClass.up]=e<0,t[this.options.scrollClass.down]=e>0),t}},{key:"onScrollDirection",value:function(t){(this.state.sticky||t.type===S["default"].EVENT_SCROLL_STOP)&&(this.el.className=(0,g["default"])(this.el.className,this.getScrollClassObj()))}},{key:"onScroll",value:function(t){this.updateStickyState(!1),this.hasOwnScrollTarget&&!E.sticky&&(this.updateFixedOffset(),this.state.sticky&&!this.hasWindowScrollListener?(this.hasWindowScrollListener=!0,S["default"].getInstance(window).on("scroll:progress",this.updateFixedOffset)):!this.state.sticky&&this.hasWindowScrollListener&&(this.hasWindowScrollListener=!1,S["default"].getInstance(window).off("scroll:progress",this.updateFixedOffset)))}},{key:"update",value:function(){this.scroll.updateScrollPosition(),this.updateBounds(!0,!0),this.updateStickyState(!1)}},{key:"onResize",value:function(t){this.update()}},{key:"getStickyState",value:function(){if(this.state.disabled)return{sticky:!1,absolute:!1};var t=this.scroll.y,e=(this.scroll.x,this.state.style.top),i=this.state.style.bottom,s=(this.state.style.left,this.state.style.right,this.state.sticky),r=this.state.absolute;if(null!==e){var n=this.state.restrict.bottom-this.state.bounds.height-e;e=this.state.bounds.top-e,this.state.sticky===!1&&(t>=e&&t<=n||e<=0&&t<e)?(s=!0,r=!1):this.state.sticky&&(e>0&&t<e||t>n)&&(s=!1,r=t>n)}else if(null!==i){t+=window.innerHeight;var o=this.state.restrict.top+this.state.bounds.height-i;i=this.state.bounds.bottom+i,this.state.sticky===!1&&t<=i&&t>=o?(s=!0,r=!1):this.state.sticky&&(t>i||t<o)&&(s=!1,r=t<=o)}return{sticky:s,absolute:r}}},{key:"updateStickyState",value:function(t){var e=this.getStickyState();e.sticky===this.state.sticky&&e.absolute===this.state.absolute||(t=t===!0,e=(0,f["default"])(e,this.getBounds()),this.setState(e,t))}},{key:"render",value:function(){var t=this.el.className,e={};if(this.firstRender){if(this.firstRender=!1,!E.sticky){this.wrapper=document.createElement("div"),this.wrapper.className=this.options.wrapperClass;var i=this.el.parentNode;i&&i.insertBefore(this.wrapper,this.el),this.wrapper.appendChild(this.el),e[this.options.fixedClass]=!0}this.updateBounds(!0,!0),this.updateStickyState(!0)}if(!E.sticky){var s=this.state.disabled||null===this.state.bounds.height||!this.state.sticky&&!this.state.absolute?"auto":this.state.bounds.height+"px";this.wrapper.style.height=s,this.wrapper.style.marginTop="auto"===s?"":this.state.style["margin-top"]+"px",this.wrapper.style.marginBottom="auto"===s?"":this.state.style["margin-bottom"]+"px",this.state.absolute!==this.lastState.absolute&&(this.wrapper.style.position=this.state.absolute?"relative":"",e[this.options.absoluteClass]=this.state.absolute,this.el.style.marginTop=this.state.absolute&&null!==this.state.style.top?this.state.restrict.height-(this.state.bounds.height+this.state.style.top)+(this.state.restrict.top-this.state.bounds.top)+"px":"",this.el.style.marginBottom=this.state.absolute&&null!==this.state.style.bottom?this.state.restrict.height-(this.state.bounds.height+this.state.style.bottom)+(this.state.restrict.bottom-this.state.bounds.bottom)+"px":""),null===this.state.style.top&&null===this.state.style.bottom||!this.hasOwnScrollTarget||this.state.absolute||this.lastState.fixedOffset===this.state.fixedOffset||(this.el.style.marginTop=this.state.fixedOffset)}return e[this.options.stateClassName]=this.state.sticky,e=this.getScrollClassObj(e),t=(0,g["default"])(t,e),this.el.className!==t&&(this.el.className=t),this.el}}],[{key:"apply",value:function(t,i){if(t&&t.length){for(var s=new L,r=0;r<t.length;r++)s.push(new e(t[r],i));return s}return new e(t,i)}},{key:"native",get:function(){return E.sticky}}]),e}(m["default"]);e["default"]=k;var T=null,E=function(){function t(){r(this,t)}return u(t,null,[{key:"sticky",get:function(){if(null!==T)return T;if("undefined"!=typeof window){if(window.Modernizr&&window.Modernizr.hasOwnProperty("csspositionsticky"))return _globals.canSticky=window.Modernizr.csspositionsticky;var t=document.documentElement,e=document.createElement("div");t.appendChild(e);var i=["sticky","-webkit-sticky"];T=!1;for(var s=0;s<i.length&&(e.style.position=i[s],!(T=!!window.getComputedStyle(e).position.match("sticky")));s++);t.removeChild(e)}return T}}]),t}(),L=function(t){function e(){r(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.items=[],t}return o(e,t),u(e,[{key:"push",value:function(t){this.items.push(t)}},{key:"update",value:function(){window.dispatchEvent(new Event("sticky:update"))}},{key:"addListener",value:function(t,e){for(var i=-1;++i<this.items.length;)this.items[i].addListener(t,e);return this}},{key:"removeListener",value:function(t,e){for(var i=-1;++i<this.items.length;)this.items[i].removeListener(t,e);return this}}]),e}(m["default"]);t.exports=e["default"]},function(t,e){var i=function(t,e){var i=arguments.length<=2?[]:[].slice.call(arguments,2);return function(){return e.apply(t,arguments.length?i.slice().concat([].slice.call(arguments)):i)}};t.exports=i},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],s=e.target,r=e.currentTarget;i(this,t),this._eventMap={},this._destroyed=!1,this._target=s||this,this._currentTarget=r||this,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emit=this.trigger=this.dispatchEvent=this.dispatch}return t.prototype.addListener=function(t,e){var i=this.getListener(t);return i?i.indexOf(e)===-1&&i.push(e):this._eventMap[t]=[e],this},t.prototype.addListenerOnce=function(t,e){var i=this,s=function(r){e(r),i.off(t,s),e=null,s=null};return this.on(t,s)},t.prototype.removeListener=function(t,e){if(!e)return this.removeAllListener(t);var i=this.getListener(t);if(i){var s=i.indexOf(e);s>-1&&(i=i.splice(s,1),i.length||delete this._eventMap[t])}return this},t.prototype.removeAllListener=function(t){var e=this.getListener(t);return e&&(this._eventMap[t].length=0,delete this._eventMap[t]),this},t.prototype.hasListener=function(t){return null!==this.getListener(t)},t.prototype.hasListeners=function(){return null!==this._eventMap&&void 0!==this._eventMap&&!s(this._eventMap)},t.prototype.dispatch=function(t,e){var i=this.getListener(t);if(i){e=e||{},e.type=t,e.target=e.target||this._target,e.currentTarget=e.currentTarget||this._currentTarget;for(var s=-1;++s<i.length;)i[s](e)}return this},t.prototype.getListener=function(t){var e=this._eventMap?this._eventMap[t]:null;return e||null},t.prototype.destroy=function(){if(this._eventMap){for(var t in this._eventMap)this.removeAllListener(t);this._eventMap=null}return this._destroyed=!0,this},t}();e["default"]=r,t.exports=e["default"]},function(t,e){function i(){function t(t){i.each(t.split(" "),function(t){e[t]=!!t})}var e={},s={},r="";return i.each([].slice.call(arguments),function(e){switch(i.getType(e)){case"string":case"number":t(e);break;case"array":t(i.apply(null,e));break;case"element":t(i(e.className||""));break;case"nodelist":t(i.apply(null,[].slice.call(e)));break;case"jquery":t(i.apply(null,e.get()));break;case"object":s=i.extend(s,e)}}),e=i.extend(e,s),i.each(e,function(t,e){t&&(r+=" "+e)}),r.substr(1)}i.setTo=function(t){var e=i.getType(t);return"element"===e&&(t=[t]),"jquery"===e&&(t=t.get()),"nodelist"===e&&(t=[].slice.call(t)),function(){var e=i.apply(null,arguments);i.each(t,function(t){t.className=e})}},i.each=function(t,e){var s=i.getType(t);if("array"===s)for(var r=0;r<t.length;r++)e(t[r],r);if("object"===s)for(var n in t)e(t[n],n)},i.getType=function(t){var e=Object.prototype.toString.call(t).slice(8,-1).toLowerCase();return"object"===e&&t.jquery?"jquery":e.indexOf("element")>1?"element":e},i.extend=function(t,e){var s={},r=[t,e];return i.each(r,function(t){i.each(t,function(e,i){t.hasOwnProperty(i)&&(s[i]=e)})}),s},"undefined"!=typeof t&&t.exports&&(t.exports=i)},function(t,e){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function s(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var s=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==s.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(n){return!1}}var r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=s()?Object.assign:function(t,e){for(var s,o,l=i(t),a=1;a<arguments.length;a++){s=Object(arguments[a]);for(var c in s)r.call(s,c)&&(l[c]=s[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(s);for(var h=0;h<o.length;h++)n.call(s,o[h])&&(l[o[h]]=s[o[h]])}}return l}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function m(t,e,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,e);if(void 0===s){var r=Object.getPrototypeOf(t);return null===r?void 0:m(r,e,i)}if("value"in s)return s.value;var n=s.get;if(void 0!==n)return n.call(i)},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),c=i(1),h=s(c),u=i(2),d=s(u),f=i(6),p=s(f),g=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?window:arguments[0],i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(r(this,e),e.hasScrollTarget(t)){var s;return s=e.getInstance(t),n(o,s)}var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{target:t}));return t.scrollEvents=o,o._scrollTarget=t,o.options=i,y.animationFrame&&e.unprefixAnimationFrame(),o.init(),o}return o(e,t),a(e,null,[{key:"getInstance",value:function(t,i){return t.scrollEvents?t.scrollEvents:new e(t,i)}},{key:"hasInstance",value:function(t){return"undefined"!=typeof t.scrollEvents}},{key:"getScrollParent",value:function(t){return(0,p["default"])(t)}},{key:"unprefixAnimationFrame",value:function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame)}},{key:"directionToString",value:function(t){switch(t){case e.UP:return"up";case e.DOWN:return"down";case e.NONE:return"none";case e.LEFT:return"left";case e.RIGHT:return"right"}}},{key:"windowScrollY",get:function(){return window.pageYOffset||window.scrollY||0}},{key:"windowScrollX",get:function(){return window.pageXOffset||window.scrollX||0}},{key:"documentHeight",get:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}},{key:"documentWidth",get:function(){return Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)}}]),a(e,[{key:"init",value:function(){if(this._destroyed=!1,this._scrollY=0,this._scrollX=0,this._speedY=0,this._speedX=0,this._lastSpeed=0,this._lastDirectionY=e.NONE,this._lastDirectionX=e.NONE,this._stopFrames=3,this._currentStopFrames=0,this._firstRender=!0,this._directionY=e.NONE,this._directionX=e.NONE,this._scrolling=!1,this._canScrollY=!1,this._canScrollX=!1,this.getScrollPosition=this._scrollTarget===window?(0,h["default"])(this,this._getWindowScrollPosition):(0,h["default"])(this,this._getElementScrollPosition),this.onScroll=(0,h["default"])(this,this.onScroll),this.onResize=(0,h["default"])(this,this.onResize),this.onNextFrame=(0,h["default"])(this,this.onNextFrame),this.updateScrollPosition(),this._canScrollY=this.clientHeight<this.scrollHeight,this._canScrollX=this.clientWidth<this.scrollWidth,this._scrollTarget!==window){var t=window.getComputedStyle(this._scrollTarget);this._canScrollY="hidden"!==t["overflow-y"],this._canScrollX="hidden"!==t["overflow-x"]}this._scrollTarget.addEventListener?(this._scrollTarget.addEventListener("scroll",this.onScroll,!1),this._scrollTarget.addEventListener("resize",this.onResize,!1)):this._scrollTarget.attachEvent&&(this._scrollTarget.attachEvent("scroll",this.onScroll),this._scrollTarget.attachEvent("resize",this.onResize))}},{key:"update",value:function(){var t=this._scrollY,i=this._scrollX;this.updateScrollPosition(),t===this.y&&i===this.x||this.trigger(e.EVENT_SCROLL_PROGRESS)}},{key:"destroy",value:function(){this._destroyed||(this._cancelNextFrame(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this._scrollTarget.addEventListener?(this._scrollTarget.removeEventListener("scroll",this.onScroll),this._scrollTarget.removeEventListener("resize",this.onResize)):this._scrollTarget.attachEvent&&(this._scrollTarget.detachEvent("scroll",this.onScroll),this._scrollTarget.detachEvent("resize",this.onResize)),this.onResize=null,this.onScroll=null,this.getScrollPosition=null,this.onNextFrame=null,this._scrollTarget=null,this._destroyed=!0)}},{key:"updateScrollPosition",value:function(){this._scrollY=this.scrollY,this._scrollX=this.scrollX}},{key:"_getWindowScrollPosition",value:function(){return{y:e.windowScrollY,x:e.windowScrollX}}},{key:"_getElementScrollPosition",value:function(){return{y:this._scrollTarget.scrollTop,x:this._scrollTarget.scrollLeft}}},{key:"onResize",value:function(){this.trigger(e.EVENT_SCROLL_RESIZE)}},{key:"onScroll",value:function(){return this._currentStopFrames=0,this._firstRender&&(this._firstRender=!1,this.y>1||this.x>1)?(this.updateScrollPosition(),void this.trigger(e.EVENT_SCROLL_PROGRESS)):void(this._scrolling||(this._scrolling=!0,this._lastDirectionY=e.NONE,this._lastDirectionX=e.NONE,this.trigger(e.EVENT_SCROLL_START),y.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this.onNextFrame()))}},{key:"onNextFrame",value:function(){var t=this;this._speedY=this._scrollY-this.scrollY,this._speedX=this._scrollX-this.scrollX;var i=+this.speedY+ +this.speedX;return this._scrolling&&0===i&&this._currentStopFrames++>this._stopFrames?void this.onScrollStop():(this.updateScrollPosition(),this._lastDirectionY!==this.directionY&&this.trigger("scroll:"+e.directionToString(this.directionY)),this._lastDirectionX!==this.directionX&&this.trigger("scroll:"+e.directionToString(this.directionX)),this._lastDirectionY=this.directionY,this._lastDirectionX=this.directionX,this.trigger(e.EVENT_SCROLL_PROGRESS),void(y.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this._nextTimeout=setTimeout(function(){t.onNextFrame()},1e3/60)))}},{key:"onScrollStop",value:function(){this._scrolling=!1,this.updateScrollPosition(),this.trigger(e.EVENT_SCROLL_STOP),this._canScrollY&&(this.y<=0?this.trigger(e.EVENT_SCROLL_MIN):this.y+this.clientHeight>=this.scrollHeight&&this.trigger(e.EVENT_SCROLL_MAX)),this._canScrollX&&(this.x<=0?this.trigger(e.EVENT_SCROLL_MIN):this.x+this.clientWidth>=this.scrollWidth&&this.trigger(e.EVENT_SCROLL_MAX)),this._currentStopFrames=0,this._cancelNextFrame()}},{key:"_cancelNextFrame",value:function(){y.animationFrame?(window.cancelAnimationFrame(this.nextFrameID),this.nextFrameID=-1):clearTimeout(this._nextTimeout)}},{key:"destroyed",get:function(){return this._destroyed}},{key:"scrollPosition",get:function(){return this.getScrollPosition()}},{key:"directionY",get:function(){return!this._canScrollY||0===this.speedY&&!this._scrolling?this._directionY=e.NONE:this.speedY>0?this._directionY=e.UP:this.speedY<0&&(this._directionY=e.DOWN),this._directionY}},{key:"directionX",get:function(){return!this._canScrollX||0===this.speedX&&!this._scrolling?this._directionX=e.NONE:this.speedX>0?this._directionX=e.LEFT:this.speedX<0&&(this._directionX=e.RIGHT),this._directionX}},{key:"attributes",get:function(){return{y:this.y,x:this.x,speedY:this.speedY,speedX:this.speedX,directionY:this.directionY,directionX:this.directionX}}},{key:"scrollTarget",get:function(){return this._scrollTarget}},{key:"delta",get:function(){return this.directionY}},{key:"scrolling",get:function(){return this._scrolling}},{key:"speedY",get:function(){return this._speedY}},{key:"speedX",get:function(){return this._speedX}},{key:"scrollY",get:function(){return this.scrollPosition.y}},{key:"y",get:function(){return this.scrollY}},{key:"scrollX",get:function(){return this.scrollPosition.x}},{key:"x",get:function(){return this.scrollX}},{key:"clientHeight",get:function(){return this._scrollTarget===window?window.innerHeight:this._scrollTarget.clientHeight}},{key:"clientWidth",get:function(){return this._scrollTarget===window?window.innerWidth:this._scrollTarget.clientWidth}},{key:"scrollHeight",get:function(){return this._scrollTarget===window?e.documentHeight:this._scrollTarget.scrollHeight}},{key:"scrollWidth",get:function(){return this._scrollTarget===window?e.documentWidth:this._scrollTarget.scrollWidth}}]),e}(d["default"]);g.hasScrollTarget=g.hasInstance,g.UP=-1,g.DOWN=1,g.NONE=0,g.RIGHT=2,g.LEFT=-2,g.EVENT_SCROLL_PROGRESS="scroll:progress",g.EVENT_SCROLL_START="scroll:start",g.EVENT_SCROLL_STOP="scroll:stop",g.EVENT_SCROLL_DOWN="scroll:down",g.EVENT_SCROLL_UP="scroll:up",g.EVENT_SCROLL_MIN="scroll:min",g.EVENT_SCROLL_MAX="scroll:max",g.EVENT_SCROLL_RESIZE="scroll:resize",e["default"]=g;var y=function(){function t(){r(this,t)}return a(t,null,[{key:"animationFrame",get:function(){return!!(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)}}]),t}();t.exports=e["default"]},function(t,e){"use strict";var i=/(auto|scroll)/,s=function(t){if(!(t instanceof HTMLElement))return window;for(;t.parentNode;){if(t.parentNode===document.body)return window;var e=window.getComputedStyle(t.parentNode,null);if(i.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x")))return t.parentNode;t=t.parentNode}return window};t.exports=s}])});